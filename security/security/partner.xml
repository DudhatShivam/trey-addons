<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.module.category" id="module_category_partners_management">
        <field name="name">Partner</field>
        <field name="description">Help to manage partner data.</field>
        <field name="sequence">2</field>
    </record>
    <record id="group_partner_customer_created" model="res.groups">
        <field name="name">Only to created partners</field>
        <field name="category_id" ref="module_category_partners_management"/>
        <field name="comment">The user only can view the partner created.</field>
    </record>
    <record id="group_partner_customer_created_rule" model="ir.rule">
        <field name="name">[security] Only to created partners</field>
        <field name="model_id" ref="base.model_res_partner"/>
        <field name="domain_force">['|', '|', ('id', '=', user.partner_id.id), ('create_uid', '=', user.id), '&amp;', ('parent_id', '=', user.partner_id.parent_id.id), ('parent_id', '!=', False)]</field>
        <field name="groups" eval="[(4, ref('group_partner_customer_created'))]"/>
    </record>
    <record id="group_partner_customer_salesman" model="res.groups">
        <field name="name">Only if is the salesman of partner</field>
        <field name="category_id" ref="module_category_partners_management"/>
        <field name="comment">The user only can access to partner if is the salesman.</field>
    </record>
    <record id="group_partner_customer_salesman_rule" model="ir.rule">
        <field name="name">[security] Only if is the salesman of partner</field>
        <field name="model_id" ref="base.model_res_partner"/>
        <field name="domain_force">['|', '|', ('id', '=', user.partner_id.id), ('user_id', '=', user.id), '&amp;', ('parent_id', '=', user.partner_id.parent_id.id), ('parent_id', '!=', False)]</field>
        <field name="groups" eval="[(4, ref('group_partner_customer_salesman'))]"/>
    </record>
    <record id="base.res_partner_rule_private_employee" model="ir.rule">
        <field name="groups" eval="[(6, 0, [])]"/>
    </record>
    <record id="group_partner_show_private" model="res.groups">
        <field name="name">Show private partners</field>
        <field name="category_id" ref="module_category_partners_management"/>
        <field name="comment">Users can show private contact and partners</field>
    </record>
    <record id="group_partner_show_private_rule" model="ir.rule">
        <field name="name">[security] Show private partners</field>
        <field name="model_id" ref="base.model_res_partner"/>
        <field name="domain_force">['|', ('type', '=', 'private'), ('type', '!=', False)]</field>
        <field name="groups" eval="[(4, ref('group_partner_show_private'))]"/>
    </record>
</odoo>
